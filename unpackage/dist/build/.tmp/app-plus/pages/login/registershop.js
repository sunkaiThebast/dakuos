(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/login/registershop"],{1483:function(t,e,o){"use strict";(function(t){o("9e2f"),o("921b");n(o("66fd"));var e=n(o("4940"));function n(t){return t&&t.__esModule?t:{default:t}}t(e.default)}).call(this,o("6e42")["createPage"])},2499:function(t,e,o){"use strict";o.r(e);var n=o("b24f"),i=o.n(n);for(var s in n)"default"!==s&&function(t){o.d(e,t,function(){return n[t]})}(s);e["default"]=i.a},4940:function(t,e,o){"use strict";o.r(e);var n=o("d461"),i=o("2499");for(var s in i)"default"!==s&&function(t){o.d(e,t,function(){return i[t]})}(s);o("8d1b");var a,c=o("f0c5"),r=Object(c["a"])(i["default"],n["b"],n["c"],!1,null,null,null,!1,n["a"],a);e["default"]=r.exports},"8d1b":function(t,e,o){"use strict";var n=o("a769"),i=o.n(n);i.a},a769:function(t,e,o){},b24f:function(t,e,o){"use strict";(function(t,n){var i;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var s=function(){return o.e("components/uni-popup/uni-popup").then(o.bind(null,"4e23"))},a=function(){return o.e("components/watch-login/watch-input").then(o.bind(null,"ed99"))},c=function(){return o.e("components/watch-login/watch-button").then(o.bind(null,"a3e8"))},r=function(){return Promise.all([o.e("common/vendor"),o.e("components/uni-icons/uni-icons")]).then(o.bind(null,"cf97"))},u=function(){return o.e("components/J-Picker/jPicker").then(o.bind(null,"f587"))},d={data:function(){return{phoneData:"",passData:"",Paymentpwd:"",Email:"",name:"",verCode:"",Shopname:"",city:"",country:"",road:"",Address:"",Storeaddress:"點擊選擇商店地址",Uniformnum:"",longitude_and_latitude:"",showAgree:!0,isRotate:!1,citydata:[{city:"金門縣"},{city:"宜蘭縣"},{city:"新竹縣"},{city:"苗栗縣"},{city:"彰化縣"},{city:"南投縣"},{city:"雲林縣"},{city:"嘉義縣"},{city:"屏東縣"},{city:"臺東縣"},{city:"花蓮縣"},{city:"澎湖縣"},{city:"基隆市"},{city:"新竹市"},{city:"嘉義市"},{city:"臺北市"},{city:"高雄市"},{city:"新北市"},{city:"臺中市"},{city:"臺南市"},{city:"桃園市"}],countrydata:[],roaddata:[],loading:!1,loadingtext:"加載中..."}},components:{wInput:a,wButton:c,uniIcons:r,uniPopup:s,jPicker:u},mounted:function(){i=this},methods:{citychange:function(e){var o=this;this.loading=!0,this.city=e.city,t.request({url:"https://www.egopay.com.tw/1.0/gain_site",method:"POST",header:{"content-type":"application/x-www-form-urlencoded"},data:{city:this.city},success:function(t){1==t.data.success&&(o.loading=!1,o.countrydata=t.data.data)}})},countryChange:function(e){var o=this;this.loading=!0,this.country=e.country,t.request({url:"https://www.egopay.com.tw/1.0/gain_site",method:"POST",header:{"content-type":"application/x-www-form-urlencoded"},data:{city:this.city,country:this.country},success:function(t){1==t.data.success&&(o.loading=!1,o.roaddata=t.data.data)}})},roadChange:function(t){this.road=t.road},Confirmadd:function(){var e=this;this.loading=!0,this.loadingtext="定位中...",this.Storeaddress=this.city+this.country+this.road+this.Address,console.log(n(this.Storeaddress," at pages\\login\\registershop.vue:252")),t.request({url:this.$store.state.api+"business_location",method:"POST",header:{"content-type":"application/x-www-form-urlencoded"},data:{address:this.Storeaddress},success:function(o){console.log(n(o," at pages\\login\\registershop.vue:263")),1==o.data.success?(e.loadingtext="加載中...",e.loading=!1,e.longitude_and_latitude=o.data.data.longitude_and_latitude,e.$refs.popup.close()):2==o.data.success&&(e.loadingtext="加載中...",e.loading=!1,e.Storeaddress="點擊選擇商店地址",e.$refs.popup.close(),t.showToast({icon:"none",position:"center",title:"地址獲取失敗，請再次嘗試",duration:2e3}))},fail:function(t){console.log(n(t," at pages\\login\\registershop.vue:283"))}})},open:function(){this.$refs.popup.open()},clickReturn:function(){t.navigateBack()},isShowAgree:function(){i.showAgree=!i.showAgree},getVerCode:function(){var e=this,o=/^[0][9]\d{8}$/;o.test(i.phoneData)?t.request({url:this.$store.state.api+"getCode",method:"POST",header:{"content-type":"application/x-www-form-urlencoded"},data:{moblie:this.phoneData},success:function(o){e.$refs.runCode.$emit("runCode"),1==o.success?t.showToast({icon:"none",position:"bottom",title:"驗證碼已發送"}):t.showToast({icon:"none",position:"bottom",title:"网络错误..."})}}):t.showToast({icon:"none",position:"center",title:"手机号不正确",duration:2e3})},isValidGUI:function(t){var e="00000000,11111111";if(0==/^\d{8}$/.test(t)||-1!=e.indexOf(t))return!1;for(var o=[1,2,1,2,1,2,4,1],n=0,i=function(t){var e=t%10,o=(t-e)/10;return e+o},s=0;s<o.length;s++)n+=i(t[s]*o[s]);return n%10==0||"7"==t[6]&&(n+1)%10==0},startReg:function(){var e=this,o=/^[0][9]\d{8}$/,s=/^(?![0-9]+$)(?![a-zA-Z]+$)[0-9A-Za-z_]{6,20}$/,a=/^([0-9A-Za-z\-_\.]+)@([0-9a-z]+\.[a-z]{2,3}(\.[a-z]{2})?)/g,c=/^[0-9]{6}$/;if(this.isRotate)return!1;o.test(i.phoneData)?s.test(i.passData)?c.test(i.Paymentpwd)?c.test(i.verCode)?""==i.name.length?t.showToast({icon:"none",position:"center",title:"請填寫真實姓名",duration:2e3}):a.test(i.Email)?""==this.Shopname?t.showToast({icon:"none",position:"center",title:"請輸入店家名稱",duration:2e3}):this.isValidGUI(this.Uniformnum)?"點擊選擇商店地址"==this.Storeaddress?t.showToast({icon:"none",position:"center",title:"請選擇商家地址",duration:2e3}):0==i.showAgree?t.showToast({icon:"none",position:"center",title:"請先同意《協議》",duration:2e3}):(i.isRotate=!0,this.loading=!0,this.loadingtext="加載中...",console.log(n(this.Storeaddress,this.passData,this.verCode,this.Email,this.longitude_and_latitude,this.Shopname,this.phoneData,this.Uniformnum," at pages\\login\\registershop.vue:441")),t.request({url:this.$store.state.api+"business_register",header:{"content-type":"application/x-www-form-urlencoded"},method:"POST",data:{address:this.Storeaddress,password:this.passData,phone_code:this.verCode,email:this.Email,longitude_and_latitude:this.longitude_and_latitude,name:this.Shopname,phone:this.phoneData,unified_taxation_code:this.Uniformnum},success:function(o){console.log(n(o.data," at pages\\login\\registershop.vue:459")),1==o.success?(e.loading=!1,i.isRotate=!1,t.reLaunch({url:"./loginShop"})):2==o.success?(e.loading=!1,t.showToast({icon:"none",position:"center",title:"驗證碼已過期",duration:2e3}),i.isRotate=!1,i.verCode=""):3==o.success?(e.loading=!1,t.showToast({icon:"none",position:"center",title:"驗證碼錯誤",duration:2e3}),i.isRotate=!1,i.verCode=""):6==o.success?(e.loading=!1,t.showToast({icon:"none",position:"center",title:"此手機號已註冊",duration:2e3}),i.isRotate=!1,i.phoneData=""):7==o.success?(e.loading=!1,t.showToast({icon:"none",position:"center",title:"此郵箱已註冊",duration:2e3}),i.isRotate=!1,i.Email=""):(e.loading=!1,i.isRotate=!1,t.showToast({icon:"none",position:"center",title:"网络错误",duration:5e3}))}})):(console.log(n(this.isValidGUI(this.Uniformnum)," at pages\\login\\registershop.vue:416")),t.showToast({icon:"none",position:"center",title:"請輸入正確的統一編號",duration:2e3})):t.showToast({icon:"none",position:"center",title:"請輸入正確的信箱格式",duration:2e3}):t.showToast({icon:"none",position:"center",title:"驗證碼不正確",duration:2e3}):t.showToast({icon:"none",position:"center",title:"請輸入六位數字支付密碼",duration:2e3}):t.showToast({icon:"none",position:"center",title:"密碼必須是由數字與字母組成的6-20位元長度",duration:2e3}):t.showToast({icon:"none",position:"center",title:"手机号不正确",duration:2e3})}}};e.default=d}).call(this,o("6e42")["default"],o("0de9")["default"])},d461:function(t,e,o){"use strict";var n,i=function(){var t=this,e=t.$createElement;t._self._c},s=[];o.d(e,"b",function(){return i}),o.d(e,"c",function(){return s}),o.d(e,"a",function(){return n})}},[["1483","common/runtime","common/vendor"]]]);