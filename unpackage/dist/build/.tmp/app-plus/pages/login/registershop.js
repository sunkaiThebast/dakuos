(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/login/registershop"],{"1e2e":function(t,e,n){"use strict";var o=n("db7a"),i=n.n(o);i.a},"23cb":function(t,e,n){"use strict";n.r(e);var o=n("a1ea"),i=n("c11f");for(var a in i)"default"!==a&&function(t){n.d(e,t,function(){return i[t]})}(a);n("1e2e");var s,c=n("f0c5"),r=Object(c["a"])(i["default"],o["b"],o["c"],!1,null,null,null,!1,o["a"],s);e["default"]=r.exports},a1ea:function(t,e,n){"use strict";var o={"hx-navbar":()=>n.e("components/hx-navbar/hx-navbar").then(n.bind(null,"a0da")),"uni-icons":()=>Promise.all([n.e("common/vendor"),n.e("components/uni-icons/uni-icons")]).then(n.bind(null,"ae98")),"uni-popup":()=>n.e("components/uni-popup/uni-popup").then(n.bind(null,"6202"))},i=function(){var t=this,e=t.$createElement;t._self._c},a=[];n.d(e,"b",function(){return i}),n.d(e,"c",function(){return a}),n.d(e,"a",function(){return o})},a916:function(t,e,n){"use strict";(function(t,o){var i;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a=function(){return n.e("components/uni-popup/uni-popup").then(n.bind(null,"6202"))},s=function(){return n.e("components/watch-login/watch-input").then(n.bind(null,"1d7f"))},c=function(){return n.e("components/watch-login/watch-button").then(n.bind(null,"c3d7"))},r=function(){return Promise.all([n.e("common/vendor"),n.e("components/uni-icons/uni-icons")]).then(n.bind(null,"ae98"))},u=function(){return n.e("components/J-Picker/jPicker").then(n.bind(null,"7508"))},d={data:function(){return{phoneData:"",passData:"",Paymentpwd:"",Email:"",name:"",verCode:"",Shopname:"",city:"",country:"",road:"",Address:"",Storeaddress:"點擊選擇商店地址",Uniformnum:"",longitude_and_latitude:"",showAgree:!0,isRotate:!1,citydata:[{city:"金門縣"},{city:"宜蘭縣"},{city:"新竹縣"},{city:"苗栗縣"},{city:"彰化縣"},{city:"南投縣"},{city:"雲林縣"},{city:"嘉義縣"},{city:"屏東縣"},{city:"臺東縣"},{city:"花蓮縣"},{city:"澎湖縣"},{city:"基隆市"},{city:"新竹市"},{city:"嘉義市"},{city:"臺北市"},{city:"高雄市"},{city:"新北市"},{city:"臺中市"},{city:"臺南市"},{city:"桃園市"}],countrydata:[],roaddata:[],loading:!1,loadingtext:"加載中..."}},components:{wInput:s,wButton:c,uniIcons:r,uniPopup:a,jPicker:u},mounted:function(){i=this},methods:{citychange:function(e){var n=this;this.loading=!0,this.city=e.city,t.request({url:"https://www.egopay.com.tw/1.0/gain_site",method:"POST",header:{"content-type":"application/x-www-form-urlencoded"},data:{city:this.city},success:function(t){1==t.data.success&&(n.loading=!1,n.countrydata=t.data.data)}})},countryChange:function(e){var n=this;this.loading=!0,this.country=e.country,t.request({url:"https://www.egopay.com.tw/1.0/gain_site",method:"POST",header:{"content-type":"application/x-www-form-urlencoded"},data:{city:this.city,country:this.country},success:function(t){1==t.data.success&&(n.loading=!1,n.roaddata=t.data.data)}})},roadChange:function(t){this.road=t.road},Confirmadd:function(){var e=this;this.loading=!0,this.loadingtext="定位中...",this.Storeaddress=this.city+this.country+this.road+this.Address,o("log",this.Storeaddress," at pages\\login\\registershop.vue:252"),t.request({url:this.$store.state.api+"business_location",method:"POST",header:{"content-type":"application/x-www-form-urlencoded"},data:{address:this.Storeaddress},success:function(n){o("log",n," at pages\\login\\registershop.vue:263"),1==n.data.success?(e.loadingtext="加載中...",e.loading=!1,e.longitude_and_latitude=n.data.data.longitude_and_latitude,e.$refs.popup.close()):2==n.data.success&&(e.loadingtext="加載中...",e.loading=!1,e.Storeaddress="點擊選擇商店地址",e.$refs.popup.close(),t.showToast({icon:"none",position:"center",title:"地址獲取失敗，請再次嘗試",duration:2e3}))},fail:function(t){o("log",t," at pages\\login\\registershop.vue:283")}})},open:function(){this.$refs.popup.open()},clickReturn:function(){t.navigateBack()},isShowAgree:function(){i.showAgree=!i.showAgree},getVerCode:function(){var e=this,n=/^[0][9]\d{8}$/;n.test(i.phoneData)?t.request({url:this.$store.state.api+"getCode",method:"POST",header:{"content-type":"application/x-www-form-urlencoded"},data:{moblie:this.phoneData},success:function(n){e.$refs.runCode.$emit("runCode"),1==n.data.success?t.showToast({icon:"none",position:"bottom",title:"驗證碼已發送"}):t.showToast({icon:"none",position:"bottom",title:"网络错误..."})}}):t.showToast({icon:"none",position:"center",title:"手机号不正确",duration:2e3})},isValidGUI:function(t){var e="00000000,11111111";if(0==/^\d{8}$/.test(t)||-1!=e.indexOf(t))return!1;for(var n=[1,2,1,2,1,2,4,1],o=0,i=function(t){var e=t%10,n=(t-e)/10;return e+n},a=0;a<n.length;a++)o+=i(t[a]*n[a]);return o%10==0||"7"==t[6]&&(o+1)%10==0},startReg:function(){var e=this,n=/^[0][9]\d{8}$/,a=/^(?![0-9]+$)(?![a-zA-Z]+$)[0-9A-Za-z_]{6,20}$/,s=/^([0-9A-Za-z\-_\.]+)@([0-9a-z]+\.[a-z]{2,3}(\.[a-z]{2})?)/g,c=/^[0-9]{6}$/;if(this.isRotate)return!1;n.test(i.phoneData)?a.test(i.passData)?c.test(i.Paymentpwd)?c.test(i.verCode)?""==i.name.length?t.showToast({icon:"none",position:"center",title:"請填寫真實姓名",duration:2e3}):s.test(i.Email)?""==this.Shopname?t.showToast({icon:"none",position:"center",title:"請輸入店家名稱",duration:2e3}):this.isValidGUI(this.Uniformnum)?"點擊選擇商店地址"==this.Storeaddress?t.showToast({icon:"none",position:"center",title:"請選擇商家地址",duration:2e3}):0==i.showAgree?t.showToast({icon:"none",position:"center",title:"請先同意《協議》",duration:2e3}):(i.isRotate=!0,this.loading=!0,this.loadingtext="加載中...",o("log",this.Storeaddress,this.passData,this.verCode,this.Email,this.longitude_and_latitude,this.Shopname,this.phoneData,this.Uniformnum," at pages\\login\\registershop.vue:441"),t.request({url:this.$store.state.api+"business_register",header:{"content-type":"application/x-www-form-urlencoded"},method:"POST",data:{address:this.Storeaddress,password:this.passData,phone_code:this.verCode,email:this.Email,longitude_and_latitude:this.longitude_and_latitude,name:this.Shopname,phone:this.phoneData,unified_taxation_code:this.Uniformnum},success:function(n){o("log",n.data," at pages\\login\\registershop.vue:459"),1==n.data.success?(e.loading=!1,i.isRotate=!1,t.reLaunch({url:"./SendEmail"})):2==n.data.success?(e.loading=!1,t.showToast({icon:"none",position:"center",title:"驗證碼已過期",duration:2e3}),i.isRotate=!1,i.verCode=""):3==n.data.success?(e.loading=!1,t.showToast({icon:"none",position:"center",title:"驗證碼錯誤",duration:2e3}),i.isRotate=!1,i.verCode=""):6==n.data.success?(e.loading=!1,t.showToast({icon:"none",position:"center",title:"此手機號已註冊",duration:2e3}),i.isRotate=!1,i.phoneData=""):7==n.data.success?(e.loading=!1,t.showToast({icon:"none",position:"center",title:"此郵箱已註冊",duration:2e3}),i.isRotate=!1,i.Email=""):(e.loading=!1,i.isRotate=!1,t.showToast({icon:"none",position:"center",title:"网络错误",duration:5e3}))}})):(o("log",this.isValidGUI(this.Uniformnum)," at pages\\login\\registershop.vue:416"),t.showToast({icon:"none",position:"center",title:"請輸入正確的統一編號",duration:2e3})):t.showToast({icon:"none",position:"center",title:"請輸入正確的信箱格式",duration:2e3}):t.showToast({icon:"none",position:"center",title:"驗證碼不正確",duration:2e3}):t.showToast({icon:"none",position:"center",title:"請輸入六位數字支付密碼",duration:2e3}):t.showToast({icon:"none",position:"center",title:"密碼必須是由數字與字母組成的6-20位元長度",duration:2e3}):t.showToast({icon:"none",position:"center",title:"手机号不正确",duration:2e3})}}};e.default=d}).call(this,n("6e42")["default"],n("0de9")["default"])},c11f:function(t,e,n){"use strict";n.r(e);var o=n("a916"),i=n.n(o);for(var a in o)"default"!==a&&function(t){n.d(e,t,function(){return o[t]})}(a);e["default"]=i.a},db7a:function(t,e,n){},f124:function(t,e,n){"use strict";(function(t){n("adc1"),n("921b");o(n("66fd"));var e=o(n("23cb"));function o(t){return t&&t.__esModule?t:{default:t}}t(e.default)}).call(this,n("6e42")["createPage"])}},[["f124","common/runtime","common/vendor"]]]);